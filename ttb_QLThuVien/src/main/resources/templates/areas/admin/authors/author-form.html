<!DOCTYPE html>
<html xmlns:th="http://www.thymeleaf.org">
<head>
    <meta charset="UTF-8">
    <title th:text="${author.id == null} ? 'Thêm tác giả' : 'Sửa tác giả'">Thêm/Sửa tác giả</title>
    <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.2/dist/css/bootstrap.min.css">
    <style>
        body {
            background-color: #f0f2f5;
            font-family: 'Segoe UI', Tahoma, Geneva, Verdana, sans-serif;
            padding: 20px;
        }
    </style>
</head>
<body>
<div class="container mt-5">
    <h2 th:text="${author.id == null} ? 'Thêm tác giả' : 'Sửa tác giả'">Thêm/Sửa tác giả</h2>

    <form th:action="@{/admin/authors/save}" th:object="${author}" method="post">
        <input type="hidden" th:field="*{id}"/>

        <!-- Họ tên -->
        <div class="mb-3">
            <label class="form-label">Họ tên</label>
            <input type="text" th:field="*{hoTen}" class="form-control" placeholder="Nhập họ tên tác giả" required>
        </div>

        <!-- Bí danh -->
        <div class="mb-3">
            <label class="form-label">Bí danh</label>
            <input type="text" th:field="*{biDanh}" class="form-control" placeholder="Nhập bí danh (nếu có)">
        </div>

        <!-- Năm sinh -->
        <div class="mb-3">
            <label class="form-label">Năm sinh</label>
            <input type="number" th:field="*{namSinh}" class="form-control" placeholder="YYYY">
        </div>

        <!-- Năm mất -->
        <div class="mb-3">
            <label class="form-label">Năm mất</label>
            <input type="number" th:field="*{namMat}" class="form-control" placeholder="YYYY">
        </div>

        <!-- Quốc tịch -->
        <div class="mb-3">
            <label class="form-label">Quốc tịch</label>
            <input type="text" th:field="*{quocTich}" class="form-control" placeholder="Nhập quốc tịch">
        </div>

        <!-- Mô tả -->
        <div class="mb-3">
            <label class="form-label">Mô tả</label>
            <textarea th:field="*{moTa}" class="form-control" rows="4" placeholder="Nhập mô tả về tác giả"></textarea>
        </div>

        <!-- Trạng thái -->
        <div class="mb-3">
            <label class="form-label">Trạng thái</label>
            <select th:field="*{trangThai}" class="form-select">
                <option value="active" th:selected="${author.trangThai == 'active'}">Active</option>
                <option value="inactive" th:selected="${author.trangThai == 'inactive'}">Inactive</option>
            </select>
        </div>

        <!-- Ngày tạo & cập nhật (chỉ hiển thị) -->
        <div class="mb-3 row">
            <div class="col">
                <label class="form-label">Ngày tạo</label>
                <input type="text" class="form-control"
                       th:value="${author.ngayTao != null ? #temporals.format(author.ngayTao, 'dd/MM/yyyy HH:mm') : ''}" readonly>
            </div>
            <div class="col">
                <label class="form-label">Ngày cập nhật</label>
                <input type="text" class="form-control"
                       th:value="${author.ngayCapNhat != null ? #temporals.format(author.ngayCapNhat, 'dd/MM/yyyy HH:mm') : ''}" readonly>
            </div>
        </div>

        <button type="submit" class="btn btn-primary">Lưu</button>
        <a th:href="@{/admin/authors}" class="btn btn-secondary">Hủy</a>
    </form>
</div>

<script src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.2/dist/js/bootstrap.bundle.min.js"></script>
</body>
</html>
